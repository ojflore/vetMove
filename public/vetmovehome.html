<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="stylevetmove.css"/>
<link href="https://fonts.googleapis.com/css?family=BenchNine|Crimson+Text|Oxygen" rel="stylesheet"/>
<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<link rel="stylesheet" href="/resources/demos/style.css">
<script src="jquery-3.3.1.min.js"></script>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<title>vetMove</title>
</head>
  <body class="landing">
    <div class="container">
    	<div class="emblem-holder">
          <img class="emblem" src="emblem.png">
    	</div>
    	<div class="logo-holder">
    	  <img class="logo" src="logo.png">
    	</div>

      <div class="row justify-content-center">
<!-- left-side of input box -->
          <div class="col-md-4">
<!-- origin input field -->
            <label>Origin</label><br>
              <input type="text" id="old-city"><br>
                <label class="zip">Zip Code</label><br>

<!-- destination input field -->
            <label>Destination</label><br>
              <input type="text" id="new-city"><br>
                <label class="zip">Zip Code</label><br>
                <!-- move selection field -->
                  <label>Type of Move: </label>
                    <select id="move">
                      <option>select</option>
                      <option>I need a truck</option>
                      <option>I need movers</option>
                      <option>I need both</option>
                    </select>
              </div>
<!-- right-side of input box  -->
          <div class="col-md-4">
<!-- details input starts here -->
            <label>Details</label>
            <br>
              <label># of People Moving: </label><input type="text" id="people">
               <br>
               <label class="bdrm_input"># of Bedrooms: </label>
                 <select id="bedrooms">
                   <option>Select</option>
                   <option>Studio - 1 bdrm</option>
                   <option>2 - 3 bdrm</option>
                   <option>3 - 4 bdrm</option>
                   <option>5+ bdrms</option>
                 </select>
                 <br>
               <label class="sqft">Square Footage: </label><input type="text" id="sqft">
               <br>
               <label class="datepicker">Date Requested: </label><input type="text" id="datepicker">
          </div>
        </div>

		<div class="button-holder">
      <button onclick="window.location.href='confirm.html'" type="submit" id="submit" class="submit">Submit Request</button>
    </div>

      <div class="footer">
        <q>Created for Veterans by Veterans</q>
        <p>
        <a href="mailto:vetmove@pointpark.edu?Subject=Information" target="_top">Contact Us</a>
        <a href="about.html">About Us</a>
        </p>
      </div>
    </div>

      <script>
      $(function() {
        $( "#datepicker" ).datepicker({
          orientation: 'bottom'
        });
        $("#submit").click(function() {
         var fromZip = $("#old-city").val();
         var toZip = $("#new-city").val();
         var numberOfPeople = $("#people").val();
         var squareFootage = $("#sqft").val();
         var numberOfRooms = $("#bedrooms").val();
         // var moveType = $("#move-type").val();
         if (!fromZip) {
           alert("Provide Origin Zip Code");
         }
         else if (!toZip) {
           alert("Provide Destination Zip Code");
         }
         else if (!numberOfPeople) {
           alert("Provide Number of People Moving");
         }
         else if (!numberOfRooms) {
           alert("Provide Number of Bedrooms");
         }
         else if (!squareFootage) {
           alert("Provide Square Footage");
         }
         // else if (!moveType) {
         //   alert("Select Type of Move");
         // }
         else {
           $.ajax({
             type: "POST",
             url: "add_moverequest",
             data: JSON.stringify({
               FromZip: fromZip,
               ToZip: toZip,
               NumberOfPeople: numberOfPeople,
               SquareFootage: squareFootage,
               NumberOfRooms: numberOfRooms
               // Name: name
             }),
             success: function(json) {
               //console.log(JSON.stringify(json));
               if (!json.success) {
                 alert(json.message);
               }
               else {
                 // showUsers();
                 console.log(JSON.stringify(json));
                 // window.location.replace("moverselection.html?id=" + json.id);
                 window.location.replace("confirm.html?id=" + json.id);
               }
             },
             error: function (textStatus, errorThrown) {
               alert("Request failed!");
             }
           });
         }
       });
      });


    </script>
  </body>
</html>





  <!-- // var original = null;
  // $("dropdown").change(function()) {
  //   if (original === null) {
  //     original = $(document.body).css("color");
  //   }
  //   var value = $(this).val();
  //   console.log(value);
  //   $(document.body).css("background-image", value);
  //   // $("#dropdown").append("<option>New Option</option>"); adds new option to dropdown
  // } -->

  <!-- var formRequest = {
  name: "Joe Sixpack",
  from: {
    street: "...",
    zip: "...",
    state: "..."
  },
  to: {
    street: "...",
    zip: "...",
    state: "..."
  },
  square_footage: 232
  };

  var formResponseSuccess = {
  success: true,
  message: "Request received.",
  distance: 340,
  options: [
    {
      moving_company: "Uhaul",
      cost: 345
    },
    {
      moving_company: "Uhaul",
      cost: 345
    }
  ]
  };

  var formResponseFailure = {
  success: false,
  message: "Unknown from address."
  };

  function postForm(formRequest, cb) {
  setTimeout(function() {
    cb(Math.random() < 0.5 ? formResponseSuccess : formResponseFailure);
  }, 0);
  }

  $(function() {
  $("#button").click(function() {
    postForm(formRequest, function(response) {
      if (response.success) {
        console.log("successful");
      }
      else {
        console.log("failed");
      }
    });
  })
  });

  // $(document).ready(function(){
  //     $('#date').datepicker();

  $("#date").click(function) {
    $("#date")[0].datepicker();
  });
